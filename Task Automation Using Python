import os
import shutil
from datetime import datetime

# Set the path to the folder you want to organize.
TARGET_FOLDER = "/path/to/your/folder"

def organize_by_date(folder):
    """
    Organizes files in the specified folder by their last modification date.
    Files are moved into subfolders named by year-month (e.g., '2025-02').
    """
    for item in os.listdir(folder):
        item_path = os.path.join(folder, item)
        
        # Skip directories.
        if os.path.isdir(item_path):
            continue
        
        # Get the last modification time of the file.
        mtime = os.path.getmtime(item_path)
        file_date = datetime.fromtimestamp(mtime)
        
        # Create a folder name based on the year and month.
        folder_name = file_date.strftime('%Y-%m')
        destination_dir = os.path.join(folder, folder_name)
        os.makedirs(destination_dir, exist_ok=True)
        
        # Move the file to the appropriate folder.
        shutil.move(item_path, os.path.join(destination_dir, item))
        print(f"Moved '{item}' to '{destination_dir}'")

if __name__ == "__main__":
    organize_by_date(TARGET_FOLDER)
    print("File organization complete.")
